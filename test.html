<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Google Sheets Data</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .loading {
            text-align: center;
            padding: 20px;
        }
        .data-item {
            border: 1px solid #ddd;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            background: #fafafa;
        }
        .category {
            font-weight: bold;
            color: #007bff;
        }
        .names {
            margin: 5px 0;
        }
        .price {
            color: #28a745;
            font-weight: bold;
        }
        .error {
            color: red;
            background: #ffe6e6;
            padding: 10px;
            border-radius: 5px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üß™ Test Google Sheets Data Loading</h1>
        <p>Testing direct connection to: <strong>Willow Cafe Menu</strong></p>
        <p><strong>Table ID:</strong> 1BRQuzea6bba0NxxPk9koLSzpHkfiAzrKmwDa8ow7128</p>
        <p><strong>Expected structure:</strong> –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ê–Ω–≥–ª–∏–π—Å–∫–∏–π | –†—É—Å—Å–∫–∏–π | –°–µ—Ä–±—Å–∫–∏–π | –û–±—ä–µ–º | –°—Ç–æ–∏–º–æ—Å—Ç—å (RSD) | –°–æ—Å—Ç–∞–≤</p>
        <p><strong>Expected categories:</strong> Coffee &, Bar / Rakija, Bar / Whisky, Bar / White Wine, Bar / Red Wine, Prosecco, Beverages, Sandwiches &, Sweets</p>
        
        <div>
            <button onclick="testLoadData()">Load Data</button>
            <button onclick="clearResults()">Clear</button>
        </div>
        
        <div id="results">
            <div class="loading">Click "Load Data" to test...</div>
        </div>
    </div>

    <script src="menu-data.js"></script>
    <script>
        async function testLoadData() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="loading">Loading data from Google Sheets...</div>';
            
            try {
                console.log('Starting test...');
                const data = await loadMenuFromGoogleSheets(true);
                
                if (data && data.length > 0) {
                    let html = `<h3>‚úÖ Success! Loaded ${data.length} items:</h3>`;
                    
                    data.forEach((item, index) => {
                        html += `
                            <div class="data-item">
                                <div class="category">${item.category}</div>
                                <div class="names">
                                    üá¨üáß EN: ${item.names.en}<br>
                                    üá∑üá∫ RU: ${item.names.ru}<br>
                                    üá∑üá∏ SR: ${item.names.sr}
                                </div>
                                <div>üìè Volume: ${item.volume}</div>
                                <div class="price">üí∞ Price: ${item.price} RSD</div>
                                <div>üìù Composition: ${item.composition}</div>
                            </div>
                        `;
                    });
                    
                    results.innerHTML = html;
                } else {
                    results.innerHTML = '<div class="error">‚ùå No data received or empty dataset</div>';
                }
            } catch (error) {
                console.error('Test error:', error);
                results.innerHTML = `<div class="error">‚ùå Error: ${error.message}</div>`;
            }
        }
        
        function clearResults() {
            document.getElementById('results').innerHTML = '<div class="loading">Click "Load Data" to test...</div>';
        }
        
        // Auto-test on page load
        window.addEventListener('load', () => {
            console.log('Page loaded, running auto-test...');
            testLoadData();
        });
    </script>
</body>
</html>